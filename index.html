<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title>–§–æ—Ä–º–∞ –≤ Telegram</title>
  </head>
  <body>
    <form id="tg">
      <input type="text" name="name" placeholder="–ò–º—è" required />
      <textarea name="message" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ" required></textarea>
      <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </form>

    <script>
      const TOKEN = "8063489404:AAFVYA63icluhbYxwh57ZRKklMXGhkjaAJo";
      const CHAT_ID = "858464369";
      const API = `https://api.telegram.org/bot${TOKEN}/sendMessage`;

      document.getElementById("tg").addEventListener("submit", function (e) {
        e.preventDefault();

        const form = e.target;
        const name = form.name.value.trim();
        const msg = form.message.value.trim();

        if (!name || !msg) {
          alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è");
          return;
        }

        const text = `üìù –ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:\nüë§ ${name}\nüí¨ ${msg}`;

        fetch(API, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            chat_id: CHAT_ID,
            text: text,
          }),
        })
          .then((res) => res.json())
          .then((data) => {
            if (data.ok) {
              alert("–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!");
              form.reset();
            } else {
              alert("–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: " + data.description);
            }
          })
          .catch((err) => alert("–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è: " + err));
      });
    </script>
  </body>
</html>
